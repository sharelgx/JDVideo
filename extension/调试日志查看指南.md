# å¦‚ä½•åœ¨Chromeæ§åˆ¶å°æŸ¥çœ‹è°ƒè¯•æ—¥å¿—

## æ–¹æ³•ä¸€ï¼šåœ¨é¡µé¢æ§åˆ¶å°æŸ¥çœ‹ inject.js æ—¥å¿—

1. **æ‰“å¼€å¼€å‘è€…å·¥å…·**
   - æŒ‰ `F12` æˆ– `Ctrl+Shift+I` (Windows/Linux)
   - æˆ– `Cmd+Option+I` (Mac)
   - æˆ–å³é”®é¡µé¢ â†’ é€‰æ‹© "Inspect" / "æ£€æŸ¥"

2. **åˆ‡æ¢åˆ° Console æ ‡ç­¾**
   - ç‚¹å‡»é¡¶éƒ¨çš„ "Console" / "æ§åˆ¶å°" æ ‡ç­¾

3. **æŸ¥çœ‹ inject.js æ—¥å¿—**
   - åœ¨æ§åˆ¶å°æœç´¢æ¡†è¾“å…¥ï¼š`[jdvideo-inject]`
   - æˆ–ç›´æ¥æ»šåŠ¨æŸ¥çœ‹ï¼Œæ‰€æœ‰æ—¥å¿—éƒ½ä»¥ `[jdvideo-inject]` å¼€å¤´

4. **å…³é”®æ—¥å¿—æ ‡è¯†**
   - `[jdvideo-inject]` - inject.js çš„æ—¥å¿—
   - `[jdvideo]` - background.js çš„æ—¥å¿—

## æ–¹æ³•äºŒï¼šæŸ¥çœ‹ Network æ ‡ç­¾ï¼ˆæŸ¥çœ‹å®é™…APIè¯·æ±‚ï¼‰

1. **åˆ‡æ¢åˆ° Network æ ‡ç­¾**
   - ç‚¹å‡» "Network" / "ç½‘ç»œ" æ ‡ç­¾

2. **ç­›é€‰è¯·æ±‚**
   - åœ¨ç­›é€‰æ¡†è¾“å…¥ï¼š`papi` æˆ– `api` æˆ– `explain`
   - æˆ–é€‰æ‹© "XHR" / "Fetch" ç±»å‹

3. **æŸ¥çœ‹è¯·æ±‚è¯¦æƒ…**
   - ç‚¹å‡»ä»»æ„è¯·æ±‚ï¼ŒæŸ¥çœ‹ï¼š
     - **Headers** - è¯·æ±‚å¤´ï¼ˆURLã€å‚æ•°ç­‰ï¼‰
     - **Response** - å“åº”å†…å®¹ï¼ˆæŸ¥çœ‹æ˜¯å¦æœ‰ä¸‹è½½åœ°å€ï¼‰
     - **Preview** - JSONæ ¼å¼åŒ–çš„å“åº”

## æ–¹æ³•ä¸‰ï¼šæŸ¥çœ‹æ‰©å±•åå°æ—¥å¿—ï¼ˆbackground.jsï¼‰

1. **æ‰“å¼€æ‰©å±•ç®¡ç†é¡µé¢**
   - åœ°å€æ è¾“å…¥ï¼š`chrome://extensions/`
   - æ‰¾åˆ° "JD LIVE ç›´æ’­è§†é¢‘ä¸‹è½½å™¨"

2. **æŸ¥çœ‹åå°æ—¥å¿—**
   - ç‚¹å‡» "service worker" é“¾æ¥ï¼ˆå¦‚æœæœ‰ï¼‰
   - æˆ–ç‚¹å‡» "æ£€æŸ¥è§†å›¾" / "Inspect views: background page"

3. **åœ¨æ§åˆ¶å°æœç´¢**
   - æœç´¢ï¼š`[jdvideo]`

## å¸¸è§æ—¥å¿—è¯´æ˜

### inject.js æ—¥å¿—ç±»å‹ï¼š

- `inject:set_pending_sku` - è®¾ç½®äº†å¾…æ•è·çš„SKU
- `inject:papi_url_extracted` - ä»PAPIæ¥å£æå–åˆ°ä¸‹è½½åœ°å€
- `inject:papi_no_url` - PAPIæ¥å£å“åº”ä¸­æœªæ‰¾åˆ°URL
- `inject:capture_url` - æ•è·åˆ°è§†é¢‘URL
- `inject:sku_extracted_from_request` - ä»è¯·æ±‚ä¸­æå–åˆ°SKU
- `inject:sku_extracted_from_response` - ä»å“åº”ä¸­æå–åˆ°SKU

### content.js æ—¥å¿—ç±»å‹ï¼ˆé€šè¿‡background.jsæŸ¥çœ‹ï¼‰ï¼š

- `content:parse_start` - å¼€å§‹è§£æåˆ—è¡¨
- `content:auto_capture_start_hybrid` - å¼€å§‹æ··åˆæ•è·ï¼ˆè¢«åŠ¨+ä¸»åŠ¨ï¼‰
- `content:passive_listening_phase` - è¢«åŠ¨ç›‘å¬é˜¶æ®µ
- `content:btn_click_trigger_api` - ç‚¹å‡»æŒ‰é’®è§¦å‘API
- `content:auto_capture_success` - æ•è·æˆåŠŸ

## è°ƒè¯•æŠ€å·§

1. **æ¸…ç©ºæ§åˆ¶å°**
   - ç‚¹å‡»æ§åˆ¶å°å·¦ä¸Šè§’çš„æ¸…é™¤æŒ‰é’® ğŸš«
   - æˆ–æŒ‰ `Ctrl+L` / `Cmd+K`

2. **è¿‡æ»¤æ—¥å¿—**
   - åœ¨æ§åˆ¶å°è¾“å…¥ï¼š`[jdvideo` å³å¯è¿‡æ»¤å‡ºæ‰€æœ‰ç›¸å…³æ—¥å¿—

3. **ä¿å­˜æ—¥å¿—**
   - å³é”®æ—¥å¿— â†’ "Save as..." ä¿å­˜ä¸ºæ–‡ä»¶
   - æˆ–å¤åˆ¶ç²˜è´´åˆ°æ–‡æœ¬ç¼–è¾‘å™¨

4. **å®æ—¶ç›‘æ§**
   - ä¿æŒæ§åˆ¶å°æ‰“å¼€
   - ç‚¹å‡»"è§£æåˆ—è¡¨"æŒ‰é’®
   - è§‚å¯Ÿæ—¥å¿—è¾“å‡º

## å¦‚æœçœ‹ä¸åˆ°æ—¥å¿—

1. **ç¡®è®¤æ‰©å±•å·²åŠ è½½**
   - æ£€æŸ¥ `chrome://extensions/` ä¸­æ‰©å±•æ˜¯å¦å¯ç”¨

2. **åˆ·æ–°é¡µé¢**
   - æŒ‰ `F5` åˆ·æ–°é¡µé¢ï¼Œè®©inject.jsé‡æ–°æ³¨å…¥

3. **æ£€æŸ¥æ§åˆ¶å°è¿‡æ»¤**
   - ç¡®ä¿æ²¡æœ‰å¯ç”¨æ—¥å¿—çº§åˆ«è¿‡æ»¤ï¼ˆAll levels / æ‰€æœ‰çº§åˆ«ï¼‰

4. **æ£€æŸ¥é¡µé¢æ˜¯å¦æ­£ç¡®**
   - ç¡®ä¿åœ¨JDç›´æ’­è®²è§£é¡µé¢ï¼ˆ`jlive.jd.com/explain`ï¼‰

